name: Trigger Central Build
on:
  push:
    branches: [main]

jobs:
  dispatch:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger YACMS Central
        uses: peter-evans/repository-dispatch@v2
        with:
          token: ${{ secrets.PAT_TOKEN }} # <-- Make sure to set this secret in your repo
          repository: zestones/yacms # <-- Update this line with your central repo username/repo
          event-type: build-client
          client-payload: '{"client_repo":"yacms-client-template"}' # <-- Update this line with your client repo name
